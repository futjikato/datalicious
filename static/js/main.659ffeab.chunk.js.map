{"version":3,"sources":["lib/HOC/asFilter.js","lib/HOC/withFilter.js","lib/HOC/asSelectable.js","lib/HOC/asPager.js","lib/context/index.js","lib/Controller/SelectionController.js","lib/Controller/FilterController.js","lib/Controller/SortController.js","lib/HOC/withSort.js","lib/HOC/asSorter.js","lib/Controller/PaginationController.js","lib/Components/Table.js","doc/filter.js","doc/selection.js","lib/HOC/withSelection.js","doc/sort.js","doc/pagination.js","lib/HOC/withPagination.js","doc/table.js","index.js"],"names":["FilterComponent","ListComponent","ItemComponent","PaginationComponent","FilterContext","React","createContext","SelectionContext","SortContext","PagerContext","EventEmitter","require","hash","SelectionController","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","selectedKeys","data","key","hasOwnProperty","emit","getSelection","keys","validData","_this2","values","validKeys","map","filter","includes","FilterController","items","active","filtered","fn","SortController","sortFn","label","sort","console","log","withSort","_React$Component","_class","props","controller","on","_ref","setState","state","sorted","inherits","createClass","value","react_default","a","createElement","Provider","assign","Component","asSorter","SorterComponent","apply","arguments","Consumer","activeLabel","setSorter","setSortFn","bind","PaginationController","page","perPage","maxPage","calMax","max","parseInt","length","getPageItems","_","toConsumableArray","Array","p","Table","initialItems","tableComponent","RowCmp","rowComponent","HeaderCmp","headerComponent","headers","i","field","dataSet","Row","RowHeader","_React$Component2","v","same","b","diffAsc","sameAsc","activeClass","className","diffDesc","sameDesc","onClick","children","filterFn","age","AgeFilter","currentFilter","setFilter","Listing","filter_Item","name","Item","FilterDoc","lib_default","component","selection","withSelection","selection_Item","join","style","cursor","doSelect","selected","toggleSelection","select","isSelected","SelectionDoc","selection_Listing","ageSortFn","AgeSorter","nameSortFn","NameSorter","sort_Item","SortDoc","sort_Listing","withPagination","pagination_Item","Pagination","listStyle","padding","display","pages","e","preventDefault","toPage","currentPage","getPageNumbers","setPage","setPerPage","PaginationDoc","pagination_Listing","CustomHeader","Fragment","jsx","MyHeader","cmp","TableDoc","Components_Table","job","role","aria-label","render","maxWidth","margin","table_TableDoc","marginTop","filter_FilterDoc","selection_SelectionDoc","sort_SortDoc","pagination_PaginationDoc","document","getElementById"],"mappings":"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","file":"static/js/main.659ffeab.chunk.js","sourcesContent":["import React from 'react';\nimport { FilterContext } from '../context';\n\nexport const asFilter = FilterComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <FilterContext.Consumer>\n          {({controller}) => (\n            <FilterComponent \n              currentFilter={controller.active}\n              setFilter={controller.setFilter.bind(controller)}\n              {...this.props} />\n          )}\n        </FilterContext.Consumer>\n      );\n    }\n  }\n}","import React from 'react';\nimport { FilterContext } from '../context';\nimport FilterController from '../Controller/FilterController';\n\nexport const withFilter = ListComponent => {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.controller = new FilterController(props.data);\n      this.controller.on('update', items => this.setState({items}));\n      this.state = {\n        items: props.data\n      };\n    }\n\n    render() {\n      return (\n        <FilterContext.Provider value={{ items: this.state.items, controller: this.controller}}>\n          <ListComponent filter={this.controller} {...Object.assign({}, this.props,  {data: this.state.items})} />\n        </FilterContext.Provider>\n      );\n    }\n  }\n}","import React from 'react';\nimport { SelectionContext } from '../context';\n\nexport const asSelectable = (ItemComponent) => {\n  return class extends React.Component {\n    select(controller, data) {\n      return () => controller.toggleSelection(data);\n    }\n\n    render() {\n      return (\n        <SelectionContext.Consumer>\n          {({controller}) => (\n            <ItemComponent \n              doSelect={this.select(controller, this.props.data)}\n              selected={controller.isSelected(this.props.data)}\n              {...this.props} />\n          )}\n        </SelectionContext.Consumer>\n      );\n    }\n  }\n}","import React from 'react';\nimport { PagerContext } from '../context';\n\nexport const asPager = PaginationComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <PagerContext.Consumer>\n          {({controller}) => (\n            <PaginationComponent \n              currentPage={controller.page}\n              perPage={controller.perPage}\n              maxPage={controller.maxPage}\n              pages={controller.getPageNumbers()}\n              toPage={controller.setPage.bind(controller)}\n              setPerPage={controller.setPerPage.bind(controller)}\n              {...this.props} />\n          )}\n        </PagerContext.Consumer>\n      );\n    }\n  }\n}","import React from 'react';\n\nexport const FilterContext = React.createContext();\nexport const SelectionContext = React.createContext();\nexport const SortContext = React.createContext();\nexport const PagerContext = React.createContext();","const EventEmitter = require('events').EventEmitter;\nconst hash = require('object-hash');\n\nclass SelectionController extends EventEmitter {\n  constructor() {\n    super();\n    this.selectedKeys = {};\n  }\n  \n  toggleSelection(data) {\n    const key = hash(data);\n    if (this.selectedKeys.hasOwnProperty(key)) {\n      delete this.selectedKeys[key];\n    } else {\n      this.selectedKeys[key] = data;\n    }\n    this.emit('selection', this.getSelection());\n  }\n\n  unSelect(data) {\n    const key = hash(data);\n    if (this.selectedKeys.hasOwnProperty(key)) {\n      delete this.selectedKeys[key];\n      this.emit('selection', this.getSelection());\n    }\n  }\n\n  isSelected(data) {\n    const key = hash(data);\n    return this.selectedKeys.hasOwnProperty(key)\n  }\n\n  getKeys() {\n    return Object.keys(this.selectedKeys);\n  }\n\n  getSelection(validData) {\n    if (!validData) {\n      return Object.values(this.selectedKeys);\n    }\n\n    const validKeys = validData.map(data => hash(data));\n    return Object.keys(this.selectedKeys).filter(key => validKeys.includes(key)).map(key => this.selectedKeys[key]);\n  }\n}\n\nexport default SelectionController;","const EventEmitter = require('events').EventEmitter;\n\nclass FilterController extends EventEmitter {\n  constructor(items) {\n    super();\n\n    this.active = null;\n    this.filtered = items;\n    this.items = items;\n  }\n\n  setFilter(fn) {\n    if (!fn) {\n      this.active = null;\n      this.filtered = this.items;\n      this.emit('update', this.filtered);\n      return;\n    }\n\n    if (fn !== this.active) {\n      this.active = fn;\n      this.filter();\n    }\n  }\n\n  filter() {\n    if (this.active) {\n      this.filtered = this.items.filter(this.active);\n      this.emit('update', this.filtered);\n    }\n  }\n\n  getFiltered() {\n    return this.filtered;\n  }\n}\n\nexport default FilterController; ","const EventEmitter = require('events').EventEmitter;\n\nclass SortController extends EventEmitter {\n  constructor(items) {\n    super();\n    this.items = items;\n    this.sortFn = null;\n  }\n\n  setSortFn(fn, label) {\n    this.sortFn = fn;\n    this.emit('update', {items: this.sort(this.items), label});\n  }\n\n  sort(data) {\n    if (!this.sortFn) {\n      console.log('no sort fn');\n      return data;\n    }\n\n    return data.sort(this.sortFn);\n  }\n}\n\nexport default SortController;","import React from 'react';\nimport { SortContext } from '../context';\nimport SortController from '../Controller/SortController';\n\nexport const withSort = ListComponent => {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.controller = new SortController(props.data);\n      this.controller.on('update', ({items, label}) => {\n        this.setState({items, label});\n      });\n      this.state = {\n        sorted: props.data,\n        label: '',\n      };\n    }\n\n    render() {\n      return (\n        <SortContext.Provider value={{controller: this.controller, label: this.state.label}}>\n          <ListComponent {...Object.assign({}, this.props, {data: this.state.sorted})} />\n        </SortContext.Provider>\n      );\n    }\n  }\n}","import React from 'react';\nimport { SortContext } from '../context';\n\nexport const asSorter = SorterComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <SortContext.Consumer>\n          {({controller, label}) => (\n            <SorterComponent \n              activeLabel={label}\n              setSorter={controller.setSortFn.bind(controller)}\n              {...this.props} />\n          )}\n        </SortContext.Consumer>\n      );\n    }\n  }\n}","const EventEmitter = require('events').EventEmitter;\n\nclass PaginationController extends EventEmitter {\n  constructor({data, page, perPage}) {\n    super();\n\n    this.items = data;\n    this.page = page || 1;\n    this.perPage = perPage || 20;\n    this.maxPage = this.calMax();\n  }\n\n  calMax() {\n    let max = parseInt(this.items.length / this.perPage);\n    if (this.items.length % this.perPage !== 0) {\n      max++; \n    }\n\n    return max;\n  }\n\n  setPage(page) {\n    if (page > this.maxPage) {\n      page = this.maxPage;\n    }\n    if (page === this.page) {\n      return;\n    }\n\n    this.page = page;\n    this.emit('update', this.getPageItems());\n  }\n\n  setPerPage(perPage) {\n    if (perPage === this.perPage) {\n      return;\n    }\n\n    this.perPage = perPage;\n    this.maxPage = this.calMax();\n    if (this.page > this.maxPage) {\n      this.page = this.maxPage;\n    }\n    \n    this.emit('update', this.getPageItems());\n  }\n\n  getPageItems() {\n    return this.items.filter((_, key) => (key < (this.page * this.perPage) && key >= ((this.page - 1) * this.perPage)))\n  }\n\n  getPageNumbers() {\n    return [...Array(this.maxPage).keys()].map(p => (p+1));\n  }\n}\n\nexport default PaginationController;","import React from 'react';\nimport { withSort, asSorter } from '../index';\n\nclass Table extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.initialItems = props.data;\n  }\n\n  get tableComponent() {\n    if (this.props.tableComponent) {\n      return this.props.tableComponent;\n    }\n\n    return \"table\";\n  }\n\n  get rowComponent() {\n    if (this.props.rowComponent) {\n      return this.props.rowComponent;\n    }\n\n    return Row;\n  }\n\n  get headerComponent() {\n    if (this.props.headerComponent) {\n      return this.props.headerComponent;\n    }\n\n    return RowHeader;\n  }\n\n  get headers() {\n    if (this.props.headers) {\n      return this.props.headers;\n    }\n\n    if (this.props.data && this.props.data.length > 0) {\n      return Object.keys(this.props.data[0]);\n    }\n\n    if (this.props.initialItems && this.props.initialItems.length > 0) {\n      return Object.keys(this.props.initialItems[0]);\n    }\n\n    return [];\n  }\n\n  render() {\n    const Table = this.tableComponent;\n    const RowCmp = this.rowComponent;\n    const HeaderCmp = this.headerComponent;\n    return (\n      <Table>\n        <thead>\n          <tr>\n            {this.headers.map((label , i)=> <HeaderCmp field={label} key={i}>{label}</HeaderCmp>)}\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.data.map((dataSet , i)=> <RowCmp key={i} data={dataSet} />)}\n        </tbody>\n      </Table>\n    );\n  }\n}\n\nexport default withSort(Table);\n\nexport class Row extends React.Component {\n  render() {\n    return (\n      <tr>\n        {Object.values(this.props.data).map((v, i) => <td key={i}>{v}</td>)}\n      </tr>\n    );\n  }\n}\n\nconst diffAsc = (props,a,b) => a[props.field] > b[props.field] ? 1 : -1;\nconst sameAsc = props => (a,b) => a[props.field] === b[props.field] ? 0 : diffAsc(props,a,b);\nconst diffDesc = (props,a,b) => a[props.field] > b[props.field] ? -1 : 1;\nconst sameDesc = props => (a,b) => a[props.field] === b[props.field] ? 0 : diffDesc(props,a,b);\nexport const RowHeader = asSorter(props => {\n  let same = sameAsc(props);\n  let label = props.field + '_asc';\n  let activeClass = props.className;\n  if (props.activeLabel === props.field + '_asc') {\n    same = sameDesc(props);\n    label = props.field + '_desc';\n    activeClass += ' asc';\n  } else if (props.activeLabel === props.field + '_desc') {\n    activeClass += ' desc';\n  }\n\n  return <th className={activeClass} onClick={() => props.setSorter(same, label)}>{props.children}</th>\n});","import React from 'react';\nimport { withFilter, asFilter } from \"../lib\";\nimport PrismCode from 'react-prism';\n\nconst filterFn = dataSet => dataSet.age === 35;\nconst AgeFilter = asFilter((props) => {\n  if (props.currentFilter === filterFn) {\n    return <button onClick={() => props.setFilter()}>Reset filter</button>\n  }\n  return <button onClick={() => props.setFilter(filterFn)}>Only age 35</button>\n});\n\nconst Listing = withFilter((props) => (\n  <div>\n    <AgeFilter />\n    {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n  </div>\n));\n\nconst Item = props => (\n  <p>{props.data.name} is {props.data.age} years old</p>\n);\n\nexport const FilterDoc = () => (\n  <div>\n    <header>\n      <h3>Filter</h3>\n    </header>\n    <div>\n      <h4>Demo</h4>\n      <Listing data={[{'name': 'John Doe', 'age': 35},{'name': 'Jane Doe', 'age': 36}]} />\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">{`\nconst filterFn = dataSet => dataSet.age === 35;\nconst AgeFilter = asFilter((props) => {\n  if (props.currentFilter === filterFn) {\n    return <button onClick={() => props.setFilter()}>Reset filter</button>\n  }\n  return <button onClick={() => props.setFilter(filterFn)}>Only age 35</button>\n});\n\nconst Listing = withFilter((props) => (\n  <div>\n    <AgeFilter />\n    {props.filtered.map(dataSet => <Item data={dataSet} />)}\n  </div>\n));\n\nconst Item = props => (\n  <p>{props.data.name} is {props.data.age} years old</p>\n);\n\nconst App = () => (\n  <Listing data={[{'name': 'John Doe', 'age': 35},{'name': 'John Doe', 'age': 35}]} />\n);\n      `}</PrismCode>\n    </div>\n  </div>\n);","import React from 'react';\nimport { withSelection, asSelectable } from \"../lib\";\nimport PrismCode from 'react-prism';\n\nconst Listing = withSelection(props => (\n  <div>\n    {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n    <p>Selected: {props.selection.getSelection().map(data => data.name).join(', ')}</p>\n  </div>\n));\n\nconst Item = asSelectable(props => (\n  <p style={{cursor: 'pointer'}}\n     onClick={props.doSelect}>\n      [{props.selected ? '✅' : '❌'}] {props.data.name} is {props.data.age} years old\n  </p>\n));\n\nexport const SelectionDoc = () => (\n  <div>\n    <header>\n      <h3>Selection</h3>\n    </header>\n    <div>\n      <h4>Demo</h4>\n      <Listing data={[{'name': 'John Doe', 'age': 35},{'name': 'Jane Doe', 'age': 36}]} />\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">\n        {`\nconst Listing = withSelection(props => (\n  <div>\n    {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n    <p>Selected: {props.selection.getSelection().map(data => data.name).join(', ')}</p>\n  </div>\n));\n\nconst Item = asSelectable(props => (\n  <p style={{cursor: 'pointer'}}\n     onClick={props.doSelect}>\n      [{props.selected ? '✅' : '❌'}] {props.data.name} is {props.data.age} years old\n  </p>\n));\n\nconst App = () => (\n  <Listing data={[{'name': 'John Doe', 'age': 35},{'name': 'John Doe', 'age': 35}]} />\n);\n        `}\n      </PrismCode>\n    </div>\n  </div>\n);","import React from 'react';\nimport { SelectionContext } from '../context';\nimport SelectionController from '../Controller/SelectionController';\n\nexport const withSelection = ListComponent => {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.selection = new SelectionController();\n      this.selection.on('selection', items => this.setState({items}));\n      this.state = {\n        items: []\n      };\n    }\n\n    render() {\n      return (\n        <SelectionContext.Provider value={{ items: this.state.items, controller: this.selection}}>\n          <ListComponent selection={this.selection} {...this.props} />\n        </SelectionContext.Provider>\n      );\n    }\n  }\n}","import React from 'react';\nimport { withSort, asSorter } from \"../lib\";\nimport PrismCode from 'react-prism';\n\nconst ageSortFn = (a, b) => a.age > b.age ? 1 : -1;\nconst AgeSorter = asSorter((props) => {\n  return <button onClick={() => props.setSorter(ageSortFn)}>Sort by age</button>\n});\n\nconst nameSortFn = (a, b) => a.name > b.name ? 1 : -1;\nconst NameSorter = asSorter((props) => {\n  return <button onClick={() => props.setSorter(nameSortFn)}>Sort by name</button>\n});\n\nconst Listing = withSort((props) => (\n  <div>\n    <AgeSorter />\n    <NameSorter />\n    {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n  </div>\n));\n\nconst Item = props => (\n  <p>{props.data.name} is {props.data.age} years old</p>\n);\n\nexport const SortDoc = () => (\n  <div>\n    <header>\n      <h3>Sort</h3>\n    </header>\n    <div>\n      <h4>Demo</h4>\n      <Listing data={[\n          {'name': 'John Doe', 'age': 35},\n          {'name': 'Jane Doe', 'age': 33},\n          {'name': 'Brian Doe', 'age': 36},\n          {'name': 'Zoey Doe', 'age': 34},\n        ]} />\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">\n        {`\nconst ageSortFn = (a, b) => a.age > b.age ? 1 : -1;\nconst AgeSorter = asSorter((props) => {\n  return <button onClick={() => props.setSorter(ageSortFn)}>Sort by age</button>\n});\n\nconst nameSortFn = (a, b) => a.name > b.name ? 1 : -1;\nconst NameSorter = asSorter((props) => {\n  return <button onClick={() => props.setSorter(nameSortFn)}>Sort by name</button>\n});\n\nconst Listing = withSort((props) => (\n  <div>\n    <AgeSorter />\n    <NameSorter />\n    {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n  </div>\n));\n\nconst Item = props => (\n  <p>{props.data.name} is {props.data.age} years old</p>\n);\n\nconst App = () => (\n  <Listing data={[\n    {'name': 'John Doe', 'age': 35},\n    {'name': 'Jane Doe', 'age': 33},\n    {'name': 'Brian Doe', 'age': 36},\n    {'name': 'Zoey Doe', 'age': 34},\n  ]} />\n);\n        `}\n      </PrismCode>\n    </div>\n  </div>\n);","import React from 'react';\nimport { withPagination, asPager } from \"../lib\";\nimport PrismCode from 'react-prism';\n\nconst Listing = withPagination((props) => (\n  <div>\n    <div>\n      {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n    </div>\n    <Pagination />\n  </div>\n));\n\nconst Pagination = asPager(props => (\n  <nav>\n    <ul style={{listStyle: 'none', padding: 0, display: 'flex'}}>\n      {props.pages.map(p => (\n        <li key={p} style={{padding: '0 5px'}}><button onClick={(e) => {\n          e.preventDefault();\n          props.toPage(p);\n        }}>{p}</button></li>\n      ))}\n    </ul>\n  </nav>\n));\n\nconst Item = props => (\n  <p>{props.data.name} is {props.data.age} years old</p>\n);\n\nexport const PaginationDoc = () => (\n  <div>\n    <header>\n      <h3>Pagination</h3>\n    </header>\n    <div>\n      <h4>Demo</h4>\n      <Listing perPage={2} data={[\n          {'name': 'John Doe', 'age': 35},\n          {'name': 'Jane Doe', 'age': 33},\n          {'name': 'Brian Doe', 'age': 36},\n          {'name': 'Zoey Doe', 'age': 34},\n        ]} />\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">\n        {`\nconst Listing = withPagination((props) => (\n  <div>\n    <div>\n      {props.data.map(dataSet => <Item key={dataSet.name} data={dataSet} />)}\n    </div>\n    <Pagination />\n  </div>\n));\n\nconst Pagination = asPager(props => (\n  <nav>\n    <ul style={{listStyle: 'none', padding: 0, display: 'flex'}}>\n      {props.pages.map(p => (\n        <li style={{padding: '0 5px'}}><a href=\"#\" onClick={(e) => {\n          e.preventDefault();\n          props.toPage(p);\n        }}>{p}</a></li>\n      ))}\n    </ul>\n  </nav>\n));\n\nconst Item = props => (\n  <p>{props.data.name} is {props.data.age} years old</p>\n);\n\nconst App = () => (\n  <Listing data={[\n    {'name': 'John Doe', 'age': 35},\n    {'name': 'Jane Doe', 'age': 33},\n    {'name': 'Brian Doe', 'age': 36},\n    {'name': 'Zoey Doe', 'age': 34},\n  ]} />\n);\n        `}\n      </PrismCode>\n    </div>\n  </div>\n);","import React from 'react';\nimport { PagerContext } from '../context';\nimport PaginationController from './../Controller/PaginationController';\n\nexport const withPagination = ListComponent => {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n\n      const {\n        data,\n        perPage\n      } = props;\n\n      this.controller = new PaginationController({data, perPage});\n      this.controller.on('update', data => this.setState({data}));\n\n      this.state = {\n        data: this.controller.getPageItems()\n      };\n    }\n\n    render() {\n      return (\n        <PagerContext.Provider value={{controller: this.controller}}>\n          <ListComponent {...Object.assign({}, this.props, {data: this.state.data})} />\n        </PagerContext.Provider>\n      );\n    }\n  }\n}","import React from 'react';\nimport PrismCode from 'react-prism';\nimport { Table, RowHeader, asSorter } from '../lib';\n\nconst CustomHeader = (props) => (\n  <>\n    <RowHeader {...props} className=\"row-header\">\n      <span>{props.children}</span>\n    </RowHeader>\n    <style jsx>{`\n      .row-header span {\n        padding-right: 15px;\n        position: relative;\n      }\n      .row-header span:after {\n        content: '';\n        position: absolute;\n        right: 0;\n      }\n      .row-header.asc span:after {\n        content: '↓';\n      }\n      .row-header.desc span:after {\n        content: '↑';\n      }\n    `}</style>\n  </>\n);\n\nconst MyHeader = asSorter(props => {\n  const cmp = (a,b) => a[props.field] === b[props.field] ? 0 : (a[props.field] > b[props.field] ? -1 : 1);\n  return <th onClick={() => props.setSorter(cmp, props.field)}>{props.field}</th>\n});\n\nexport const TableDoc = () => (\n  <div>\n    <header>\n      <h3>Table</h3>\n      <p>The Table component features sorting</p>\n    </header>\n    <div>\n      <h4>Demo</h4>\n      <div className=\"demo-container\">\n        <Table data={[\n          {name: 'John Doe', age: 35, job: 'Accounting'},\n          {name: 'Jane Doe', age: 33, job: 'Development'},\n          {name: 'Brian Doe', age: 36, job: 'HR'},\n          {name: 'Zoey Doe', age: 30, job: 'Accounting'}\n        ]} />\n      </div>\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">{`\n<Table data={[\n  {name: 'John Doe', age: 35},\n  {name: 'Jane Doe', age: 33},\n  {name: 'Brian Doe', age: 36}\n]} />\n      `}</PrismCode>\n    </div>\n    <div>\n      <h4>Demo with wrapped header components</h4>\n      <p>You can customize the table header row by wrapping the original</p>\n      <div className=\"demo-container\">\n        <Table headerComponent={CustomHeader} data={[\n          {name: 'John Doe', age: 35, job: 'Accounting'},\n          {name: 'Jane Doe', age: 33, job: 'Development'},\n          {name: 'Brian Doe', age: 36, job: 'HR'},\n          {name: 'Zoey Doe', age: 30, job: 'Accounting'}\n        ]} />\n      </div>\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">{`\nconst CustomHeader = (props) => (\n  <>\n    <RowHeader {...props} className=\"row-header\">\n      <span>{props.children}</span>\n    </RowHeader>\n    <style jsx>{\\`\n      .row-header span {\n        padding-right: 15px;\n        position: relative;\n      }\n      .row-header span:after {\n        content: '';\n        position: absolute;\n        right: 0;\n      }\n      .row-header.asc span:after {\n        content: '↓';\n      }\n      .row-header.desc span:after {\n        content: '↑';\n      }\n    \\`}</style>\n  </>\n)\n\n<Table headerComponent={CustomHeader} data={[\n  {name: 'John Doe', age: 35, job: 'Accounting'},\n  {name: 'Jane Doe', age: 33, job: 'Development'},\n  {name: 'Brian Doe', age: 36, job: 'HR'},\n  {name: 'Zoey Doe', age: 30, job: 'Accounting'}\n]} />\n      `}</PrismCode>\n    </div>\n    <div>\n      <h4>Demo with custom header</h4>\n      <p>You can also provide your own header component as well as custom data rows</p>\n      <div className=\"demo-container\">\n        <Table headerComponent={MyHeader} data={[\n          {name: 'John Doe', age: 35, job: 'Accounting'},\n          {name: 'Jane Doe', age: 33, job: 'Development'},\n          {name: 'Brian Doe', age: 36, job: 'HR'},\n          {name: 'Zoey Doe', age: 30, job: 'Accounting'}\n        ]} />\n      </div>\n    </div>\n    <div>\n      <h4>Code</h4>\n      <PrismCode component=\"pre\" className=\"language-js\">{`\nconst MyHeader = asSorter(props => {\n  const cmp = (a,b) => a[props.field] === b[props.field] ? 0 : (a[props.field] > b[props.field] ? -1 : 1);\n  return <th onClick={() => props.setSorter(cmp, props.field)}>{props.field}</th>\n});\n\n<Table headerComponent={MyHeader} data={[\n  {name: 'John Doe', age: 35, job: 'Accounting'},\n  {name: 'Jane Doe', age: 33, job: 'Development'},\n  {name: 'Brian Doe', age: 36, job: 'HR'},\n  {name: 'Zoey Doe', age: 30, job: 'Accounting'}\n]} />\n      `}</PrismCode>\n    </div>\n    <div>\n      <h4>Properties</h4>\n      <table>\n        <thead>\n          <tr>\n            <th>Property</th>\n            <th>Type</th>\n            <th>Required</th>\n            <th>Default</th>\n            <th>Note</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>data</td>\n            <td>Array of objects</td>\n            <td><span role=\"img\" aria-label=\"Yes\">✅</span></td>\n            <td>-</td>\n            <td />\n          </tr>\n          <tr>\n            <td>tableComponent</td>\n            <td>Component to use as table</td>\n            <td><span role=\"img\" aria-label=\"No\">❌</span></td>\n            <td>table</td>\n            <td />\n          </tr>\n          <tr>\n            <td>rowComponent</td>\n            <td>Component to use as table row within the table body</td>\n            <td><span role=\"img\" aria-label=\"No\">❌</span></td>\n            <td>Row</td>\n            <td>\n              The default row will make a TD for every property in the data set. \n              If you have nestedt objects you might want to build a custom row component.\n            </td>\n          </tr>\n          <tr>\n            <td>headerComponent</td>\n            <td>Component to use as header columns</td>\n            <td><span role=\"img\" aria-label=\"No\">❌</span></td>\n            <td>RowHeader</td>\n            <td>\n              Default is a TH tag. It provides ASC/DESC sorting on click.\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n);","import React from 'react';\nimport { render } from \"react-dom\";\nimport { FilterDoc, SelectionDoc, SortDoc, PaginationDoc, TableDoc } from './doc';\n\nrequire('prismjs');\nrequire('prismjs/themes/prism.css');\n\nconst App = () => (\n  <div style={{ maxWidth: 1024, margin: '15px auto' }}>\n    <h2>Ready to use components</h2>\n    <p>The following components include all features from this lib while beeing configurable to a very high degree.</p>\n    <TableDoc />\n    <h2 style={{marginTop: '100px'}}>Single purpose wrapper</h2>\n    <p>The following examples show how to use single features.</p>\n    <FilterDoc />\n    <SelectionDoc />\n    <SortDoc />\n    <PaginationDoc />\n  </div>\n);\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}